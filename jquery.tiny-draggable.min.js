// jQuery tinyDraggable v1.0.4
// https://github.com/chunksnbits/jQuery-tinyDraggable/tree/feature/contain
(function(b){b.fn.tinyDraggable=function(r){var a=b.extend({handle:0,exclude:0,contain:0},r);return this.each(function(){var e,f,c=b(this),h=b(document),k=b(window);(a.handle?b(a.handle,c):c).on({mousedown:function(d){function l(b){e=a.contain?Math.max(0,Math.min(g.x,b.clientX-m)):b.pageX-m;f=a.contain?Math.max(0,Math.min(g.y,b.clientY-n)):b.pageY-n;if(!a.callback||!1!==a.callback("drag",e,f))return a.contain?c.css({top:f,left:e}):c.offset({top:f,left:e})}function p(){a.callback&&!1===a.callback("stop",e,f)||h.off("mousemove.drag",l).off("mouseup",p)}if(!a.exclude||!~b.inArray(d.target,b(a.exclude,c)))if(!a.callback||!1!==a.callback("start",d.pageX,d.pageY)){d.preventDefault();var q=c.offset(),m=d.pageX-q.left,n=d.pageY-q.top,g;a.contain?(c.css({position:"fixed"}),g={x:k.width()-c.width(),y:k.height()-c.height()}):g=null;h.on("mousemove.drag",l).on("mouseup",p)}}})})}})(jQuery);
